/* =========================================
   üìò Friends.css ‚Äì Giao di·ªán b·∫°n b√®, l·ªùi m·ªùi
   ========================================= */

.friends-panel {
  padding: 16px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  margin: 10px;
  transition: all 0.2s ease;
  overflow: visible; /* ensure panel itself does not create nested scrolling */
}

.friends-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
}

.friends-header h3 {
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}

.search-input {
  width: 100%;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid #ddd;
  outline: none;
  transition: 0.2s;
}

.search-input:focus {
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
}

/* Danh s√°ch ng∆∞·ªùi d√πng / b·∫°n b√® */
.user-list {
  list-style: none;
  padding: 0;
  margin: 0;
  /* Allow the outer sidebar container to handle scrolling.
     Prevent this inner list from creating its own scrollbar to avoid double scrollbars. */
  max-height: none;
  overflow: visible;
  scrollbar-width: none; /* firefox fallback */
  -ms-overflow-style: none; /* IE/Edge fallback */
}

.user-list::-webkit-scrollbar { width: 0; height: 0; }

.user-item {
  display: grid;
  grid-template-columns: 1fr auto; /* C·ªôt tr√°i co gi√£n, c·ªôt ph·∫£i c·ªë ƒë·ªãnh */
  align-items: center;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.15s, transform 0.1s;
  gap: 12px;
}

.user-item:hover {
  background: #f8fafc;
  transform: translateY(-1px);
}

/* ƒê·∫£m b·∫£o avatar v√† t√™n kh√¥ng b·ªã tr√†n h√†ng */
.user-left {
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0; /* ƒë·ªÉ tr√°nh overflow */
}

.avatar {
  width: 42px;
  height: 42px;
  min-width: 42px;
  min-height: 42px;
  background: linear-gradient(135deg, #6366f1, #2563eb);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-weight: 700;
  font-size: 16px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  flex-shrink: 0;
  overflow: hidden; /* Quan tr·ªçng: ƒë·∫£m b·∫£o ·∫£nh kh√¥ng tr√†n vi·ªÅn */
  position: relative;
}

.username {
  font-weight: 600;
  color: #111827;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 2px;
}

.small {
  color: #6b7280;
  font-size: 13px;
}

/* N√∫t h√†nh ƒë·ªông */
.btn-primary {
  background: #2563eb;
  color: white;
  border: none;
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  transition: 0.2s;
}

.btn-primary:hover {
  background: #1e40af;
}

.btn-muted {
  background: #e5e7eb;
  color: #333;
  border: none;
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
}

.btn-muted:hover {
  background: #d1d5db;
}

.btn-danger {
  background: #ef4444;
  color: white;
  border: none;
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
}

.btn-danger:hover {
  background: #b91c1c;
}

.empty {
  color: #9ca3af;
  text-align: center;
  padding: 12px;
  font-style: italic;
}

/* Kh·ªëi ch·ª©a danh s√°ch ch√≠nh */
.friends-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 8px;
  overflow-y: auto;
  height: calc(100vh - 160px);
}

/* Hide visual scrollbar in sidebar friend list while preserving scroll behavior
   and avoiding layout shifts on scrollbar appearance */
.friends-container {
  /* Reserve gutter so layout doesn't shift on platforms that show scrollbars */
  scrollbar-gutter: stable both-edges;

  /* Firefox */
  scrollbar-width: none;
  /* IE/Edge */
  -ms-overflow-style: none;
}

.friends-container::-webkit-scrollbar {
  width: 0;
  height: 0;
}

/* N√∫t ch·∫•p nh·∫≠n / t·ª´ ch·ªëi l·ªùi m·ªùi */
.req-actions {
  display: flex;
  gap: 6px;
  justify-content: flex-end;
}

.req-actions button {
  min-width: 90px;
}

/* Responsive nh·ªè g·ªçn tr√™n mobile */
@media (max-width: 600px) {
  .friends-panel {
    margin: 4px;
    padding: 10px;
  }

  .avatar {
    width: 36px;
    height: 36px;
    font-size: 14px;
  }

  .btn-primary, .btn-muted, .btn-danger {
    padding: 5px 8px;
    font-size: 13px;
  }

  .friends-header h3 {
    font-size: 16px;
  }
}

/* C·ªë ƒë·ªãnh k√≠ch th∆∞·ªõc n√∫t ƒë·ªÅu nhau */
.btn-primary,
.btn-muted,
.btn-danger {
  min-width: 100px;
  height: 36px;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-size: 14px;
  font-weight: 500;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
  box-sizing: border-box;
}

/* Gi·ªØ cho ch·ªØ kh√¥ng b·ªã d·ªãch khi hover */
.btn-primary:hover,
.btn-muted:hover,
.btn-danger:hover {
  transform: none;
}

.small {
  display: none !important;
}

/* Gi·∫£m k√≠ch th∆∞·ªõc v√† cƒÉn n√∫t "K·∫øt b·∫°n" cho g·ªçn g√†ng */
.btn-primary {
  background: #2563eb;
  color: white;
  border: none;
  padding: 4px 10px;        /* Gi·∫£m padding ƒë·ªÉ n√∫t nh·ªè h∆°n */
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  transition: 0.2s;
  min-width: 80px;          /* Thu nh·ªè chi·ªÅu ngang */
  height: 32px;             /* Chi·ªÅu cao n√∫t g·ªçn h∆°n */
  font-size: 13px;          /* Gi·∫£m k√≠ch th∆∞·ªõc ch·ªØ */
  display: flex;
  justify-content: center;
  align-items: center;
}

.btn-primary:hover {
  background: #1e40af;
}

/* T·∫°o kho·∫£ng c√°ch gi·ªØa c√°c user-item ƒë·ªÉ kh√¥ng b·ªã d√≠nh nhau */
.user-item {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  padding: 8px 12px;        /* Gi·∫£m padding t·ªïng th·ªÉ cho g·ªçn */
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.15s, transform 0.1s;
  gap: 12px;
  margin-bottom: 6px;       /* üß© Th√™m kho·∫£ng c√°ch gi·ªØa c√°c d√≤ng */
}

/* Khi hover nh√¨n nh·∫π nh√†ng h∆°n */
.user-item:hover {
  background: #f3f4f6;
  transform: translateY(-1px);
}

/* === N√∫t h√†nh ƒë·ªông (K·∫øt b·∫°n / X√≥a / ƒê√£ g·ª≠i / T·ª´ ch·ªëi...) === */
.btn-primary,
.btn-muted,
.btn-danger {
  min-width: 80px;          /* G·ªçn h∆°n nh∆∞ng v·∫´n d·ªÖ b·∫•m */
  height: 32px;             /* Gi·∫£m chi·ªÅu cao */
  padding: 4px 10px;        /* √çt padding ƒë·ªÉ nh·ªè g·ªçn */
  font-size: 13px;          /* Ch·ªØ v·ª´a ph·∫£i */
  font-weight: 500;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  transition: 0.2s ease;
  box-sizing: border-box;
}

/* M√†u n√∫t */
.btn-primary {
  background: #2563eb;
  color: white;
}
.btn-primary:hover {
  background: #1e40af;
}

.btn-muted {
  background: #e5e7eb;
  color: #333;
}
.btn-muted:hover {
  background: #d1d5db;
}

.btn-danger {
  background: #ef4444;
  color: white;
}
.btn-danger:hover {
  background: #b91c1c;
}

/* === B·ªë c·ª•c danh s√°ch user === */
.user-item {
  display: grid;
  grid-template-columns: 1fr auto; /* T√™n tr√°i, n√∫t ph·∫£i */
  align-items: center;
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.15s, transform 0.1s;
  gap: 12px;
  margin-bottom: 6px; /* T·∫°o kho·∫£ng c√°ch gi·ªØa c√°c d√≤ng */
}

.user-item:hover {
  background: #f3f4f6;
  transform: translateY(-1px);
}

/* Avatar gi·ªØ nguy√™n k√≠ch th∆∞·ªõc v√† c√¢n gi·ªØa */
.avatar {
  width: 42px;
  height: 42px;
  background: linear-gradient(135deg, #6366f1, #2563eb);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-weight: 700;
  font-size: 16px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  flex-shrink: 0;
}

/* === N√∫t h√†nh ƒë·ªông si√™u g·ªçn === */
.btn-primary,
.btn-muted,
.btn-danger {
  min-width: 60px;        /* gi·∫£m c√≤n 60px */
  height: 24px;           /* th·∫•p h∆°n, g·ªçn g√†ng */
  padding: 2px 6px;       /* thu nh·ªè padding */
  font-size: 11.5px;      /* ch·ªØ nh·ªè h∆°n */
  font-weight: 500;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  transition: 0.2s ease;
  box-sizing: border-box;
}

/* M√†u s·∫Øc */
.btn-primary {
  background: #2563eb;
  color: white;
}
.btn-primary:hover {
  background: #1e40af;
}

.btn-muted {
  background: #e5e7eb;
  color: #333;
}
.btn-muted:hover {
  background: #d1d5db;
}

.btn-danger {
  background: #ef4444;
  color: white;
}
.btn-danger:hover {
  background: #b91c1c;
}

/* CƒÉn ch·ªânh item */
.user-item {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.15s, transform 0.1s;
  gap: 10px;
  margin-bottom: 5px; /* c√°ch nhau ch√∫t */
}

.user-item:hover {
  background: #f3f4f6;
  transform: translateY(-1px);
}

.friend-request-item {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 6px;
  padding: 10px;
  background: #f8f8f8;
  border-radius: 12px;
  margin-bottom: 10px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
  transition: 0.2s;
}

.friend-request-item:hover {
  background: #f2f2f2;
}

.friend-request-info {
  display: flex;
  align-items: center;
  gap: 10px;
}

.avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background-color: #007bff;
  color: white;
  font-weight: 600;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 18px;
}

.friend-username {
  font-weight: 600;
  font-size: 15px;
}

.friend-request-actions {
  display: flex;
  gap: 8px;
  margin-left: 55px; /* cƒÉn d∆∞·ªõi username */
}

.btn-accept, .btn-reject {
  padding: 5px 12px;
  border-radius: 6px;
  border: none;
  font-size: 14px;
  cursor: pointer;
  transition: 0.2s;
}

.btn-accept {
  background-color: #4CAF50;
  color: white;
}

.btn-accept:hover {
  background-color: #45a049;
}

.btn-reject {
  background-color: #f44336;
  color: white;
}

.btn-reject:hover {
  background-color: #d7322d;
}
